=== W3TC Minify Helper ===
Contributors: Magenta Cuda
Tags: W3TC, minify
Requires at least: 5.0
Tested up to: 5.0
Stable tag: 1.0
Requires PHP: 7.0
License: GPLv2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html

record the sent order of the JavaScript files and use this to create a W3TC Minify configuration

== Description ==

This is a helper plugin for the W3 Total Cache plugin. It generates a W3TC
JSON configuration file that can be imported into W3TC.

The W3TC auto minify mode does not work on my web site. The problem
is the order of the JavaScript files using the auto minify mode is different
from the order without minification. This results in undefined JavaScript
function errors. W3TC has a help tool for manually setting the order of
JavaScript files. I think this tool is tiresome to use. I just want to have
the same order as without minification. So, I wrote this plugin to do this.

Every view of a web page sets the ordered list of JavaScript files of the
template of that web page. If this ordered list has changed a new W3TC
configuration file is generated by modifying the value of the field
'minify.js.groups' of the current W3TC configuration to be compatible with
the new ordered list of JavaScript files for that template. This process is
cumulative so after viewing a representative web page for each template a
complete W3TC configuration file will be built. Further, if the ordered list
of JavaScript files for a template changes then this will also build a new
compatible W3TC configuration file. N.B. - W3TC assumes that the ordered list
of JavaScript files for a template is fixed. If your web pages are dynamically 
computing the JavaScript files and two different web pages using the same
template compute different lists of JavaScript files then W3TC cannot be used to
minify those JavaScript files. N.B. - W3TC in manual minify mode only sees the
template files in the theme directories. However, using the 'template_include'
filter a plugin can force WordPress to load a template in the plugin's directory
instead of a template in the theme's directory. W3TC in manual minify mode
cannot be used minify the JavaScript files of templates in plugin directories.
 
This generated JSON configuration file can be downloaded and further edited to
fine tune the minify process and imported back into W3TC. The download link is
on the "Installed Plugins" admin page after the "Deactivate" link. But, before
you import this new configuration file into W3TC, you should download the
current configuration of W3TC so that you can restore the current configuration
if the new configuration does not work. Also, before importing the new
configuration file into W3TC you should diff the new configuration file against
the current configuration file of W3TC to verify that the new configuration file
has no obvious errors. You should also verify that you have a complete
configuration by viewing the 'minify.js.groups' section and checking that there
is an entry for each of your templates. N.B. - W3TC "Minify mode" must be set to
"Manual" for W3TC to use the ordered list of JavaScript files generated by this
plugin. 

== Installation ==

1. Upload the plugin files to the `/wp-content/plugins/plugin-name` directory, or install the plugin through the WordPress plugins screen directly.
2. Activate the plugin through the 'Plugins' screen in WordPress.
3. For each template view a representative web page using that template.
4. Download the W3TC JSON configuration file generated by this plugin using the link after the "Deactivate" link on "Installed Plugins" admin page.
5. Download the current W3TC configuration using the "General Settings" page of W3TC.
6. Optionally edit the new W3TC configuration file to fine tune the minify configuration.
7. Optionally diff the new W3TC configuration file against the current configuration file to verify the changes are reasonable.
8. Import the new configuration file into W3TC using the "General Settings" page of W3TC.
9. If the new configuration does not work import the previously downloaded W3TC configuration file to restore the previous configuration.

== Frequently Asked Questions ==

= Where is the web site for this plugin? =

[http://magentacuda.com/an-alternate-way-to-set-w3tc-minify-file-order/](http://magentacuda.com/an-alternate-way-to-set-w3tc-minify-file-order/)

= Where is the GitHub repository for this plugin? =

[https://github.com/magenta-cuda/alt-w3tc-minify](https://github.com/magenta-cuda/alt-w3tc-minify) - N.B. The directory name is different.
== Screenshots ==

== Changelog ==

= 1.0 =
* Initial

== Upgrade Notice ==

= 1.0 =
* Initial
